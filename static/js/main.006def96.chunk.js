(this["webpackJsonpmovie-guide"]=this["webpackJsonpmovie-guide"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(5),r=n.n(s),i=n(2),o=(n(11),n(12),n(0));var u=function(e){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("h2",{className:"header__text",children:"Movie Catalog"}),Object(o.jsx)("form",{className:"header__form",onSubmit:function(e){e.preventDefault()},children:Object(o.jsx)("input",{onInput:e.onInputValue,type:"text",placeholder:"enter movie"})}),Object(o.jsxs)("div",{className:"header__user",children:[Object(o.jsx)("div",{className:"header__user-icon"}),Object(o.jsx)("select",{className:"header__form-select",children:Object(o.jsx)("option",{children:"Alexander Borisenko"})})]})]})},l=n(4),b=n.n(l),j=n(6);function m(){return(m=Object(j.a)(b.a.mark((function e(t,n){var c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),c=t.split(" "),a=t,""===c[c.length-1]&&(a=c.pop(),a=c.join(),a+="&nbsp;"),e.next=6,fetch("https://www.omdbapi.com/?i=tt3896198&apikey=8523cbb8&s=".concat(a,"*&page=").concat(n));case 6:return s=e.sent,e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e,t){return m.apply(this,arguments)},h=(n(15),n(16),n.p+"static/media/not_poster.232e7369.jpg");var p=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s((function(){if(null!==e.content&&void 0!==e.content)return e.content.map((function(e,t){var n=e.Poster;return"N/A"===e.Poster&&(n=h),Object(o.jsxs)("div",{className:"main__content-item",children:[Object(o.jsx)("div",{className:"main__content-item-block",children:Object(o.jsx)("img",{className:"main__content-item-image",src:n,alt:"",placeholder:e.Title})}),Object(o.jsxs)("h4",{className:"main__content-item-h",children:["Name: ",e.Title]}),Object(o.jsxs)("p",{children:["Year: ",e.Year]}),Object(o.jsxs)("p",{children:["ImdbID: ",e.imdbID]}),Object(o.jsxs)("p",{children:["Type: ",e.Type]})]},e.imdbID+t)}))}))}),[e.content]),Object(o.jsx)("section",{className:"main__content",children:a})};n(17);var f=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s((function(){var t=[],n=Math.ceil(e.totalResults/10);if(!(n<1)){if(e.numberActivePage<7)for(var c=1;c<=7;c++)1===c?t.push(Object(o.jsx)("button",{"data-number":c,onClick:e.onClickNextPage,className:"main__buttons-pages number-buttons active",children:c},c+"button")):t.push(Object(o.jsx)("button",{"data-number":c,onClick:e.onClickNextPage,className:"main__buttons-pages number-buttons",children:c},c+"button"));else for(var a=e.numberActivePage-3;a<=e.numberActivePage+4;a++)a<=n&&t.push(Object(o.jsx)("button",{"data-number":a,onClick:e.onClickNextPage,className:"main__buttons-pages number-buttons",children:a},a+"button"));return t}}))}),[e.content,e.totalResults,e.numberActivePage]),Object(o.jsxs)("section",{className:"main__buttons",children:[Object(o.jsx)("button",{onClick:e.onClickNextPage,id:"prev",className:"main__buttons-pages",children:"<"}),Object(o.jsx)("div",{className:"main__buttons-numbers",children:a}),Object(o.jsx)("button",{onClick:e.onClickNextPage,id:"next",className:"main__buttons-pages",children:">"})]})};var x=function(e){return Object(o.jsxs)("main",{className:"main",children:[Object(o.jsx)("section",{className:"main__results",children:Object(o.jsxs)("p",{children:['You searched for: "',e.nameSearch,'", ',e.totalResults," results found"]})}),Object(o.jsx)(p,{content:e.content}),Object(o.jsx)(f,{totalResults:e.totalResults,onClickNextPage:e.onClickNextPage,content:e.content,numberActivePage:e.numberActivePage,getArray:e.getArray})]})};var O=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),r=Object(i.a)(s,2),l=r[0],b=r[1],j=Object(c.useState)(null),m=Object(i.a)(j,2),h=m[0],p=m[1],f=Object(c.useState)(1),O=Object(i.a)(f,2),v=O[0],g=O[1];function _(e){d(e,v).then((function(e){if(p((function(){return e.Search})),e.totalResults)return b(e.totalResults);b(0)}))}return Object(c.useEffect)((function(){_(n)}),[v]),Object(o.jsxs)("div",{className:"wrapper",children:[Object(o.jsx)(u,{onInputValue:function(e){_(e.target.value),a(e.target.value)}}),Object(o.jsx)(x,{content:h,totalResults:l,nameSearch:n,onClickNextPage:function(e){var t=document.getElementsByClassName("active");function n(){t.length>0&&Array.from(t).forEach((function(e){e.classList.remove("active")}))}isNaN(parseFloat(e.target.innerText))||(g(parseFloat(e.target.innerText)),n(),e.target.classList.add("active")),"next"===e.target.id&&v<Math.ceil(l/10)&&(g((function(e){return e+1})),n(),document.querySelector('[data-number="'.concat(v+1,'"]')).classList.add("active")),"prev"===e.target.id&&v>1&&(g((function(e){return e-1})),n(),document.querySelector('[data-number="'.concat(v-1,'"]')).classList.add("active"))},numberActivePage:v})]})};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.006def96.chunk.js.map